# Rime schema
# encoding: utf-8

__include: sbpy.schema.yaml:/

schema:
  schema_id: sbjp
  name: 声笔简拼
  version: "10.0"
  icon: "sbxlm.ico"
  author:
    - 戴石麟 <https://sbxlm.github.io>
    - 蓝落萧 <https://tansongchen.com>
  dependencies:
    - sbpy

switches:
  - name: ascii_mode
    reset: 0
    states: [中文, 西文]
  - name: ascii_punct
    states: [。，, ．，]
  - name: zh_trad
    reset: 0
    states: [简体, 繁体]
  - name: is_hidden
    states: [提示, 隐藏]
    reset: 1  # 为1时隐藏无理固定数选字词
  # 为了避免拥挤，不显示下面的状态
  - name: auto_inline
    reset: 1  # 首字母大写进入临时英文状态
  - name: is_buffered
    reset: 0  # 是否为缓冲输入模式
  - name: postpone
    reset: 1  # 是否为后置模式
  #  states: [前置, 后置]
  - options: [free, fixed, mixed, popping, strong]
    reset: 4  # 默认为强顶模式
  #  states: [自由, 固定, 混顶, 纯顶, 强顶]

sbjp_algebra:
  # 1. 冠零声
  - xform/\b(?=[aoe])/v/
  # 2. 去韵母
  - xform/\b([a-z])[a-z]+/$1/
  # 3. 补笔画
  - xlit/12345/eiuoa/

speller:
  __include: sbpy.schema.yaml:/speller
  algebra:
    __include: /sbjp_algebra
    __append:
      - derive/^([a-z]).+$/$1/
      - derive/^([a-z]{2}).+$/$1/
      - derive/^([a-z]{3}).+$/$1/
      - derive/^([a-z]{4}).+$/$1/

translator:
  dictionary: sbpy
  packs:
    - sbpy.base
    - sbpy.ext
    - sbpy.tencent
  fix_combination: false
  prism: sbjp

reverse_lookup:
  __include: sbpy.schema.yaml:/reverse_lookup
  comment_format:
    __include: /sbjp_algebra
